---
---

<div id="custom-cursor" class="pointer-events-none fixed left-0 top-0 z-[9999] hidden md:block">
  <div id="cursor-dot" class="rounded-full bg-iris"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cursor = document.getElementById('custom-cursor');
    const cursorDot = document.getElementById('cursor-dot');
    
    if (!cursor || !cursorDot) return;

    let position = { x: 0, y: 0 };
    let isHovering = false;
    let isVisible = false;
    let animationFrame: number;

    const updateCursor = () => {
      const size = isHovering ? 40 : 8;
      const offset = isHovering ? 20 : 4;
      
      cursor.style.transform = `translate(${position.x - offset}px, ${position.y - offset}px)`;
      cursor.style.opacity = isVisible ? '1' : '0';
      
      cursorDot.style.width = `${size}px`;
      cursorDot.style.height = `${size}px`;
      cursorDot.style.backgroundColor = isHovering ? 'transparent' : '#5B21B6';
      cursorDot.style.borderWidth = isHovering ? '1px' : '0';
      cursorDot.style.borderColor = '#5B21B6';
      cursorDot.style.borderStyle = isHovering ? 'solid' : 'none';
      
      animationFrame = requestAnimationFrame(updateCursor);
    };

    const handleMouseMove = (e: MouseEvent) => {
      position = { x: e.clientX, y: e.clientY };
      isVisible = true;
    };

    const handleMouseEnter = () => {
      isVisible = true;
    };

    const handleMouseLeave = () => {
      isVisible = false;
    };

    const handleHoverStart = () => {
      isHovering = true;
    };

    const handleHoverEnd = () => {
      isHovering = false;
    };

    document.addEventListener('mousemove', handleMouseMove);
    document.addEventListener('mouseenter', handleMouseEnter);
    document.addEventListener('mouseleave', handleMouseLeave);

    const clickables = document.querySelectorAll('a, button, [data-clickable]');
    clickables.forEach((el) => {
      el.addEventListener('mouseenter', handleHoverStart);
      el.addEventListener('mouseleave', handleHoverEnd);
    });

    updateCursor();

    // Cleanup on page unload
    window.addEventListener('beforeunload', () => {
      cancelAnimationFrame(animationFrame);
    });
  });
</script>

<style>
  #custom-cursor {
    transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  #cursor-dot {
    transition: width 0.2s ease, height 0.2s ease, background-color 0.2s ease, border-width 0.2s ease;
  }
</style>

