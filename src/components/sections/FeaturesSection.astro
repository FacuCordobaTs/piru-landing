---
const features = [
  {
    icon: 'qr',
    title: "Autoservicio desde la mesa",
    description: "Tus clientes escanean el QR y piden cuando quieren, sin esperar a nadie.",
  },
  {
    icon: 'users',
    title: "Pedido en grupo",
    description: "Cada persona en la mesa agrega lo suyo desde su celular. Todos ven el pedido completo.",
  },
  {
    icon: 'zap',
    title: "Cuenta fácil de dividir",
    description: "Cada uno paga lo que pidió. Sin calculadoras, sin incomodidad.",
  },
  {
    icon: 'smartphone',
    title: "Una experiencia que sorprende",
    description: "Modernidad y simplicidad que tus clientes van a recordar y querer repetir.",
  },
  {
    icon: 'bell',
    title: "Tu operación sigue igual (o mejor)",
    description: "Comandas que se imprimen solas, panel simple y menú que editás en segundos.",
  },
  {
    icon: 'chart',
    title: "Cero fricción para tu equipo",
    description: "No necesitan aprender nada nuevo. Todo llega automáticamente y en tiempo real.",
  },
];

---

<section class="bg-background px-6 py-24">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-16 features-header">
      <p class="text-primary text-sm uppercase tracking-widest mb-4">Qué ofrecés con PIRU</p>
      <h2 class="text-4xl md:text-5xl font-sans font-bold text-foreground mb-4">Una experiencia que tus clientes disfrutan</h2>
      <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
        Y detrás, una operación que fluye sin que tengas que pensar en ella.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {features.map((feature, index) => (
        <div
          class="feature-card bg-secondary border border-border rounded-xl p-8 hover:border-primary/50 transition-colors"
          data-index={index}
        >
          <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary">
              {feature.icon === 'qr' && (
                <>
                  <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                  <path d="M3 9h18"/>
                  <path d="M9 21V9"/>
                </>
              )}
              {feature.icon === 'smartphone' && (
                <>
                  <rect width="14" height="20" x="5" y="2" rx="2" ry="2"/>
                  <path d="M12 18h.01"/>
                </>
              )}
              {feature.icon === 'bell' && (
                <>
                  <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
                  <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </>
              )}
              {feature.icon === 'chart' && (
                <>
                  <path d="M3 3v18h18"/>
                  <path d="m19 9-5 5-4-4-3 3"/>
                </>
              )}
              {feature.icon === 'users' && (
                <>
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </>
              )}
              {feature.icon === 'zap' && (
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
              )}
            </svg>
          </div>
          <h3 class="font-sans font-semibold text-xl text-foreground mb-2">{feature.title}</h3>
          <p class="text-muted-foreground">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.querySelector('.features-header');
    const cards = document.querySelectorAll('.feature-card');

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in-up');
          }
        });
      },
      { threshold: 0.1 }
    );

    if (header) observer.observe(header);
    cards.forEach((card) => {
      const index = parseInt((card as HTMLElement).dataset.index || '0');
      setTimeout(() => {
        observer.observe(card);
      }, index * 100);
    });
  });
</script>

<style>
  .features-header {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .features-header.animate-fade-in-up {
    opacity: 1;
    transform: translateY(0);
  }

  .feature-card {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .feature-card.animate-fade-in-up {
    opacity: 1;
    transform: translateY(0);
  }
</style>
